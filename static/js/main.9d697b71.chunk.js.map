{"version":3,"sources":["HighScoreBoard.js","Scores.js","HighScoreForm.js","App.js","index.js"],"names":["HighScoreBoard","props","highScore","length","sort","a","b","score","map","index","className","id","name","GetScores","useState","highScores","options","method","url","useEffect","getHighScores","axios","then","response","console","log","allScores","data","catch","error","HighScoreForm","state","value","handleChange","bind","handleSubmit","event","this","setState","target","toString","userNames","document","getElementsByClassName","names","ids","innerHTML","push","substring","alert","params","Object","keys","key","encodeURIComponent","join","includes","headers","indexOf","result","type","onChange","onClick","React","Component","BoardView","board","Board","window","location","reload","hasWon","keyCode","preventDefault","direction","move","touches","startX","screenX","startY","screenY","changedTouches","deltaX","deltaY","Math","abs","addEventListener","handleKeyDown","removeEventListener","cells","row","rowIndex","_","columnIndex","size","tiles","filter","tile","Fragment","onTouchStart","handleTouchStart","onTouchEnd","handleTouchEnd","tabIndex","onRestart","restartGame","GameEndOverlay","contents","hasLost","i","addTile","addRandomTile","setPositions","won","prototype","addScore","moveLeft","hasChanged","currentRow","resultRow","targetTile","shift","tile1","mergedInto","tile2","Infinity","Cell","TileView","nextProps","hasMoved","isNew","classArray","column","fromRow","toRow","fromColumn","toColumn","classes","rotateLeft","matrix","rows","columns","res","Tile","oldRow","oldColumn","markForDeletion","moveTo","apply","arguments","forEach","fourProbability","emptyCells","r","c","cell","random","newValue","clearOldTiles","d","canMove","dir","newRow","newColumn","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9d697b71.chunk.js","sourcesContent":["import React from 'react';\nimport BoardView from './App';\nexport default function HighScoreBoard(props) {\n    const highScore = (props) => {\n        const { highScore } = props;\n        if (highScore.length > 0) {\n            return (\n                highScore\n                    .sort((a, b) => (a.score < b.score) ? 1 : -1)\n                    .map((score, index) => {\n                    return (\n                        <div className='high-score' key={score.id}>\n                            <h5 className='score'>High Score {index + 1}: <span className=\"userScore\">{score.score}</span> by <span className={`userName ${score.id}`}>{score.name}</span></h5>\n                        </div>\n                    )\n                })\n            )\n        } else {\n            return (<p > No Highscore Found </p>)\n        }\n\n    }\n    return (<>\n        {highScore(props)}\n    </>)\n}","import React, {\n    useState,\n    useEffect\n} from 'react'\n\nimport axios from 'axios';\nimport HighScoreBoard from './HighScoreBoard'\n\nexport function GetScores() {\n\n    const [highScore, highScores] = useState('');\n\n    const options = {\n        method: 'get',\n        //url: 'http://localhost:8000/scores',\n        url: 'https://highscore-api.herokuapp.com/scores',\n    }\n    \n    useEffect(() => {\n        getHighScores();\n    }, []);\n\n    const getHighScores = () => {\n        axios(options)\n            .then((response) => {\n                console.log(response);\n                const allScores = response.data;\n                highScores(allScores)\n            })\n            .catch(error => console.error(error));\n    }\n    return ( < HighScoreBoard highScore={highScore}/>)\n}\n\n\n","import React from 'react';\nimport {\n    v4 as uuidv4\n} from 'uuid';\nimport axios from 'axios';\nimport { GetScores } from './Scores';\n\nexport default class HighScoreForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: '',\n            score: this.props.score\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({\n            value: event.target.value\n        });\n    }\n    handleSubmit(event) {\n        const score = this.state.score.toString();\n        const userNames = document.getElementsByClassName('userName');\n        var names = [];\n        var ids = [];\n        for (var name in userNames) {\n            if (userNames[name].innerHTML) {\n                names.push(userNames[name].innerHTML);\n                console.log(names);\n\n                var className = userNames[name].className;\n                ids.push(className.substring(9, className.length));\n                console.log(ids)\n            }\n        }                       \n\n        if (this.state.value === '') {\n            alert(\"Please enter your name\")\n        }\n        else {\n              \n            const params = {\n                name: this.state.value,\n                score: score\n              };\n              const data = Object.keys(params)\n                .map((key) => `${key}=${encodeURIComponent(params[key])}`)\n                .join('&');\n              \n              console.log(data);\n              // => format=json&option=value\n            var options;\n            if (names.includes(this.state.value)) {\n                var indexOfName = names.indexOf(this.state.value)\n                var id = ids[indexOfName]\n                 options = {\n                    method: 'put',\n                    headers: { 'content-type': 'application/x-www-form-urlencoded' },\n                    data,\n                    url: 'https://highscore-api.herokuapp.com/scores/' + id,\n                };\n            } else {\n                 options = {\n                    method: 'POST',\n                    headers: { 'content-type': 'application/x-www-form-urlencoded' },\n                    data,\n                    url: 'https://highscore-api.herokuapp.com/scores',\n                };\n            }\n              axios(options)  \n                .then((result) => {\n            console.log(result);\n            alert(this.state.value + ' submitted a high-score of: ' + this.state.score);\n            //event.preventDefault();\n        }).catch((error) => {\n            console.log(error);\n            alert(\"Sorry, it looks like there was an error submitting your score.\")\n        })\n\n    }\n}\n\n    render() {\n    return ( <>\n        <label > Enter your name to submit your high score:\n        <input type = \"text\"\n        value = {\n            this.state.value\n        }\n        onChange = {\n            this.handleChange\n        }\n            /> </label>\n        <br />\n        <button type = \"button\"\n        className = \"tryAgain\"\n        onClick = {\n            this.handleSubmit\n        } > Submit </button>\n    </>\n    );\n}\n}","import React from 'react';\nimport HighScoreForm from './HighScoreForm';\nimport { GetScores, PostHighScore } from './Scores';\n\nexport default class BoardView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      board: new Board(),\n    };\n  }\n  restartGame() {\n    this.setState({ board: new Board() });\n    window.location.reload(false); \n  }\n  handleKeyDown(event) {\n    if (this.state.board.hasWon()) {\n      return;\n    }\n    if (event.keyCode >= 37 && event.keyCode <= 40) {\n      event.preventDefault();\n      var direction = event.keyCode - 37;\n      \n      this.setState({board: this.state.board.move(direction)});\n    } else {\n      switch (true) {\n        case event.keyCode === 87:\n          direction = 1;\n          this.setState({ board: this.state.board.move(direction) });\n          break;\n          case event.keyCode === 65:\n           direction = 0;\n            this.setState({ board: this.state.board.move(direction) });\n          break;\n          case event.keyCode === 83:\n           direction = 3;\n            this.setState({ board: this.state.board.move(direction) });\n          break;\n          case event.keyCode === 68:\n           direction = 2;\n            this.setState({ board: this.state.board.move(direction) });\n          break;\n        default:\n          break;\n      }\n      //w = 87 = direction 1\n      //a = 65 = direction 0\n      //s = 83 = direction 3\n      //d = 68 = direction 2\n      \n    }\n  }\n  handleTouchStart(event) {\n    if (this.state.board.hasWon()) {\n      return;\n    }\n    if (event.touches.length !== 1) {\n      return;\n    }\n    this.startX = event.touches[0].screenX;\n    this.startY = event.touches[0].screenY;\n    event.preventDefault();\n  }\n  handleTouchEnd(event) {\n    if (this.state.board.hasWon()) {\n      return;\n    }\n    if (event.changedTouches.length !== 1) {\n      return;\n    }\n    var deltaX = event.changedTouches[0].screenX - this.startX;\n    var deltaY = event.changedTouches[0].screenY - this.startY;\n    var direction = -1;\n    if (Math.abs(deltaX) > 3 * Math.abs(deltaY) && Math.abs(deltaX) > 30) {\n      direction = deltaX > 0 ? 2 : 0;\n    } else if (Math.abs(deltaY) > 3 * Math.abs(deltaX) && Math.abs(deltaY) > 30) {\n      direction = deltaY > 0 ? 3 : 1;\n    }\n    if (direction !== -1) {\n      this.setState({board: this.state.board.move(direction)});\n    }\n  }\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown.bind(this));\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown.bind(this));\n  }\n  render() {\n    var cells = this.state.board.cells.map((row, rowIndex) => {\n      return (\n        <div key={rowIndex}>\n          { row.map((_, columnIndex) => <Cell key={rowIndex * Board.size + columnIndex} />) }\n        </div>\n      );\n    });\n\n    var tiles = this.state.board.tiles\n      .filter(tile => tile.value !== 0)\n      .map(tile => <TileView tile={tile} key={tile.id} />);\n    \n    var score = this.state.board.score\n    \n    return (\n      <React.Fragment>\n        <div className='scoreboard'><h2 id='score'>Score: {score}</h2></div>\n      <div className='board' onTouchStart={this.handleTouchStart.bind(this)} onTouchEnd={this.handleTouchEnd.bind(this)} tabIndex=\"1\">\n        {cells}\n          {tiles}\n          <GameEndOverlay board={this.state.board} onRestart={this.restartGame.bind(this)} />\n          \n        </div>\n        \n      </React.Fragment>\n      \n    );\n  }\n};\n\n\nvar GameEndOverlay = ({board, onRestart}) => {\n  var contents = '';\n   if (board.hasLost()) {\n      contents = <>\n                  <HighScoreForm score={board.score}/>\n                </>\n  }\n  if (!contents) {\n    return null;\n  }\n  return (\n    <div className='overlay'>\n      {contents}\n      <button className=\"tryAgain\" onClick={onRestart} onTouchEnd={onRestart}>Try again</button>\n    </div>\n  );\n};\n\n\n\n\n\nvar Board = function () {\n  this.tiles = [];\n  this.cells = [];\n  for (var i = 0; i < Board.size; ++i) {\n    this.cells[i] = [this.addTile(), this.addTile(), this.addTile(), this.addTile()];\n  }\n  this.addRandomTile();\n  this.setPositions();\n  this.won = false;\n  this.score = 0;\n};\n\n\n\nBoard.prototype.addScore = function (props) {\n  this.score += props;\n}\n\n\n\nBoard.prototype.moveLeft = function () {\n  var hasChanged = false;\n  for (var row = 0; row < Board.size; ++row) {\n    var currentRow = this.cells[row].filter(tile => tile.value !== 0);\n    var resultRow = [];\n    for (var target = 0; target < Board.size; ++target) {\n      var targetTile = currentRow.length ? currentRow.shift() : this.addTile();\n      if (currentRow.length > 0 && currentRow[0].value === targetTile.value) {\n        var tile1 = targetTile;\n\n        targetTile = this.addTile(targetTile.value);\n\n        tile1.mergedInto = targetTile;\n        var tile2 = currentRow.shift();\n        tile2.mergedInto = targetTile;\n        targetTile.value += tile2.value;\n        //console.log(this)     this will allow you to see what the board is doing \n        \n        this.addScore(targetTile.value);\n      }\n      resultRow[target] = targetTile;\n      this.won |= (targetTile.value === Infinity);\n      hasChanged |= (targetTile.value !== this.cells[row][target].value);\n    }\n    this.cells[row] = resultRow;\n  }\n  return hasChanged;\n};\n\n\n\n\n\n\n\n\n\n\n\nclass Cell extends React.Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n  render() {\n    return (\n      <span className='cell'>{''}</span>\n    );\n  }\n};\n\nclass TileView extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    if (this.props.tile !== nextProps.tile) {\n      return true;\n    }\n    if (!nextProps.tile.hasMoved() && !nextProps.tile.isNew()) {\n      return false;\n    }\n    return true;\n  }\n  render() {\n    var tile = this.props.tile;\n    var classArray = ['tile'];\n    classArray.push('tile' + this.props.tile.value);\n    if (!tile.mergedInto) {\n      classArray.push('position_' + tile.row + '_' + tile.column);\n    }\n    if (tile.mergedInto) {\n      classArray.push('merged');\n    }\n    if (tile.isNew()) {\n      classArray.push('new');\n    }\n    if (tile.hasMoved()) {\n      classArray.push('row_from_' + tile.fromRow() + '_to_' + tile.toRow());\n      classArray.push('column_from_' + tile.fromColumn() + '_to_' + tile.toColumn());\n      classArray.push('isMoving');\n    }\n    var classes = classArray.join(' ');\n    return (\n      <span className={classes}>{tile.value}</span>  \n    );\n  }\n}\n\nvar rotateLeft = function (matrix) {\n  var rows = matrix.length;\n  var columns = matrix[0].length;\n  var res = [];\n  for (var row = 0; row < rows; ++row) {\n    res.push([]);\n    for (var column = 0; column < columns; ++column) {\n      res[row][column] = matrix[column][columns - row - 1];\n    }\n  }\n  return res;\n};\n\nvar Tile = function (value, row, column) {\n  this.value = value || 0;\n  this.row = row || -1;\n  this.column = column || -1;\n  this.oldRow = -1;\n  this.oldColumn = -1;\n  this.markForDeletion = false;\n  this.mergedInto = null;\n  this.id = Tile.id++;\n};\n\nTile.id = 0;\n\nTile.prototype.moveTo = function (row, column) {\n  this.oldRow = this.row;\n  this.oldColumn = this.column;\n  this.row = row;\n  this.column = column;\n};\n\nTile.prototype.isNew = function () {\n  return this.oldRow === -1 && !this.mergedInto;\n};\n\nTile.prototype.hasMoved = function () {\n  return (this.fromRow() !== -1 && (this.fromRow() !== this.toRow() || this.fromColumn() !== this.toColumn())) ||\n    this.mergedInto;\n};\n\nTile.prototype.fromRow = function () {\n  return this.mergedInto ? this.row : this.oldRow;\n};\n\nTile.prototype.fromColumn = function () {\n  return this.mergedInto ? this.column : this.oldColumn;\n};\n\nTile.prototype.toRow = function () {\n  return this.mergedInto ? this.mergedInto.row : this.row;\n};\n\nTile.prototype.toColumn = function () {\n  return this.mergedInto ? this.mergedInto.column : this.column;\n};\n\nBoard.prototype.addTile = function () {\n  var res = new Tile();\n  Tile.apply(res, arguments);\n  this.tiles.push(res);\n  return res;\n};\nBoard.size = 4;\nBoard.prototype.setPositions = function () {\n  this.cells.forEach((row, rowIndex) => {\n    row.forEach((tile, columnIndex) => {\n      tile.oldRow = tile.row;\n      tile.oldColumn = tile.column;\n      tile.row = rowIndex;\n      tile.column = columnIndex;\n      tile.markForDeletion = false;\n    });\n  });\n};\n\nBoard.fourProbability = 0.1;\n\nBoard.prototype.addRandomTile = function () {\n  var emptyCells = [];\n  for (var r = 0; r < Board.size; ++r) {\n    for (var c = 0; c < Board.size; ++c) {\n      if (this.cells[r][c].value === 0) {\n        emptyCells.push({r: r, c: c});\n      }\n    }\n  }\n  var index = ~~(Math.random() * emptyCells.length);\n  var cell = emptyCells[index];\n  var newValue = Math.random() < Board.fourProbability ? 4 : 2;\n  this.cells[cell.r][cell.c] = this.addTile(newValue);\n};\n\nBoard.prototype.move = function (direction) {\n  // 0 -> left, 1 -> up, 2 -> right, 3 -> down\n  this.clearOldTiles();\n  for (var i = 0; i < direction; ++i) {\n    this.cells = rotateLeft(this.cells);\n  }\n  var hasChanged = this.moveLeft();\n  for (var d = direction; d < 4; ++d) {\n    this.cells = rotateLeft(this.cells);\n  }\n  if (hasChanged) {\n    this.addRandomTile();\n  }\n  this.setPositions();\n  return this;\n};\n\nBoard.prototype.clearOldTiles = function () {\n  this.tiles = this.tiles.filter(tile => tile.markForDeletion === false);\n  this.tiles.forEach(tile => { tile.markForDeletion = true; });\n};\n\nBoard.prototype.hasWon = function () {\n  return this.won;\n};\n\nBoard.deltaX = [-1, 0, 1, 0];\nBoard.deltaY = [0, -1, 0, 1];\n\nBoard.prototype.hasLost = function () {\n  var canMove = false;\n  for (var row = 0; row < Board.size; ++row) {\n    for (var column = 0; column < Board.size; ++column) {\n      canMove |= (this.cells[row][column].value === 0);\n      for (var dir = 0; dir < 4; ++dir) {\n        var newRow = row + Board.deltaX[dir];\n        var newColumn = column + Board.deltaY[dir];\n        if (newRow < 0 || newRow >= Board.size || newColumn < 0 || newColumn >= Board.size) {\n          continue;\n        }\n        canMove |= (this.cells[row][column].value === this.cells[newRow][newColumn].value);\n      }\n    }\n  }\n  \n  return !canMove;\n  //return canMove;\n};\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './App.css';\nimport App from './App';\nimport { GetScores } from './Scores'\nReactDOM.render(\n  <React.StrictMode>\n    <GetScores />\n  </React.StrictMode>, document.getElementById('highscoreDiv'));\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    </React.StrictMode>,\n  document.getElementById('boardDiv')\n);\n\n//run 'yarn run deploy' to deploy changes to website\n/*body:\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-content: center;\nalign-items: center;\nfont-family: \"Clear Sans\", sans-serif;\nfont-size: 21px;\nbackground: #bdc3c7;\nbackground: linear-gradient(to top, #2c3e50, #bdc3c7);\nposition: relative;\noverflow-x: hidden;\n*/\n\n"],"sourceRoot":""}